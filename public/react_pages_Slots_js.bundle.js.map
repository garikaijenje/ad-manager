{"version":3,"file":"react_pages_Slots_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAeA;;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;;AAQA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;;AAQA;AAAA;AAAA;AAEA;AAGA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AASA;;AAEA","sources":["webpack://ad-manager/./react/pages/Slots.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport Page from '../layouts/Page';\r\nimport Header from '../layouts/Header';\r\nimport Footer from '../layouts/Footer';\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\n\r\nimport { AppConst } from '../Config';\r\nimport { ApiRequest, handleErrors, handleSuccess } from '../utility/Api';\r\n\r\nimport { GlobalContext } from '../GlobalContext';\r\nimport Forms from '../components/Forms';\r\n\r\nconst Slots = () => {\r\n\r\n  const { token, redirect, location } = useContext(GlobalContext);\r\n\r\n  const [slots, setSlots] = useState([]);\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    \r\n    // Fetch Slots\r\n    (async () => {\r\n\r\n      setLoading(true);\r\n\r\n      ApiRequest.get({\r\n        endpoint: 'slots',\r\n        token: token,\r\n        success: (response) => {\r\n          let res = handleSuccess(response);\r\n          setLoading(false);\r\n          setSlots(res.data)\r\n        },\r\n        failure: (response) => {\r\n          let res = handleErrors(response);\r\n          setErrors(res)\r\n          setLoading(false);\r\n        }\r\n      });\r\n\r\n    })();\r\n\r\n    jQuery('#example1').DataTable({\r\n      language: {\r\n        searchPlaceholder: 'Search...',\r\n        sSearch: '',\r\n        lengthMenu: '_MENU_ items/page',\r\n      }\r\n    });\r\n    // Select2\r\n    jQuery('.dataTables_length select').select2({ minimumResultsForSearch: Infinity });\r\n      \r\n  }, [])\r\n\r\n  useEffect(() => {\r\n\r\n    jQuery('#example1').DataTable({\r\n      language: {\r\n        searchPlaceholder: 'Search...',\r\n        sSearch: '',\r\n        lengthMenu: '_MENU_ items/page',\r\n      }\r\n    });\r\n    // Select2\r\n    jQuery('.dataTables_length select').select2({ minimumResultsForSearch: Infinity });\r\n\r\n  }, [slots])\r\n  \r\n\r\n  return (\r\n    <Page>\r\n    <Header title=\"Slots\" active=\"slots\" />\r\n\r\n    <div className=\"card-header bd-b-0 pd-t-20 pd-lg-t-25 pd-l-20 pd-lg-l-25 d-flex flex-column flex-sm-row align-items-sm-center justify-content-sm-center\">\r\n        <div className=\"btn-group mg-t-20 mg-sm-t-0\">\r\n          <button href=\"#addSlot\" className=\"btn btn-xs btn-success btn-uppercase\" data-toggle=\"modal\">Add New Slot</button>\r\n        </div>\r\n      </div>\r\n\r\n      {location.flash && (<div className=\"alert alert-success mt-4\" role=\"alert\"> {location.flash} </div>)}\r\n      \r\n      {loading ? <center><PulseLoader color=\"#9d1e29\" loading={loading} size={20} /></center> :\r\n\r\n        slots.length === 0 ?  <center><h3>You don't ave any slots.</h3></center> :\r\n\r\n        <div data-label=\"Example\" className=\"df-example demo-table\">\r\n          <table id=\"example1\" className=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th className=\"wd-20p\">Name</th>\r\n                    <th className=\"wd-25p\">No. of Ads</th>\r\n                    <th className=\"wd-25p\">Total Impressions</th>\r\n                    <th className=\"wd-25p\">Total Clicks</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {slots.map((slot, key) => {\r\n              return (\r\n                <tr key={key} >\r\n                  <td onClick={() => redirect(`/slots/${slot.id}`)}>{slot.name}</td>\r\n                  <td onClick={() => redirect(`/slots/${slot.id}`)}>{slot.total_ads}</td>\r\n                  <td onClick={() => redirect(`/slots/${slot.id}`)}>{slot.total_impressions}</td>\r\n                  <td onClick={() => redirect(`/slots/${slot.id}`)}>{slot.total_clicks}</td>\r\n                </tr>\r\n              )\r\n            })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      }\r\n      <Forms/>\r\n      <Footer/>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Slots;"],"names":[],"sourceRoot":""}