{"version":3,"file":"react_pages_Ads_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;;AAQA;AAAA;AAAA;AAGA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;;AAQA;AAAA;AAAA;AAEA;AAGA;AAGA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AAQA;;AAEA;AACA;AADA;AAIA;AACA;AADA;AAIA;;;;;;;;;;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAeA;AAEA;AAEA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAOA;;AAEA","sources":["webpack://ad-manager/./react/components/AdsTable.js","webpack://ad-manager/./react/pages/Ads.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\nimport { GlobalContext } from '../GlobalContext';\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst AdsTable = ({ loading, ads, slotColumn}) => {\r\n\r\n  const { redirect } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n\r\n    jQuery('#example1').DataTable({\r\n      language: {\r\n        searchPlaceholder: 'Search...',\r\n        sSearch: '',\r\n        lengthMenu: '_MENU_ items/page',\r\n      }\r\n    });\r\n    // Select2\r\n    jQuery('.dataTables_length select').select2({ minimumResultsForSearch: Infinity });\r\n\r\n\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    jQuery('#example1').DataTable({\r\n      language: {\r\n        searchPlaceholder: 'Search...',\r\n        sSearch: '',\r\n        lengthMenu: '_MENU_ items/page',\r\n      }\r\n    });\r\n    // Select2\r\n    jQuery('.dataTables_length select').select2({ minimumResultsForSearch: Infinity });\r\n\r\n  }, [ads])\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      {loading ? <center><PulseLoader color=\"#9d1e29\" loading={loading} size={20} /></center> :\r\n\r\n        ads && ads.length === 0 ? <center><h3>You don't have any ads.</h3></center> :\r\n\r\n          <div data-label=\"Example\" className=\"df-example demo-table\">\r\n            <table id=\"example1\" className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"wd-20p\">Title</th>\r\n                  {slotColumn && <th className=\"wd-20p\">Slot</th>}\r\n                  <th className=\"wd-5p\">Status</th>\r\n                  <th className=\"wd-5p\">Impressions</th>\r\n                  <th className=\"wd-5p\">Clicks</th>\r\n                  <th className=\"wd-15p\">Duration</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {ads && ads.map((ad, key) => {\r\n                  return (\r\n                    <tr key={key} >\r\n                      <td onClick={() => redirect(`/ads/${ad.id}`)}>{ad.title}</td>\r\n                      {slotColumn && <td onClick={() => redirect(`/ads/${ad.id}`)}>{ad.slot_name}</td>}\r\n                      <td className={ad.status === \"Active\" ? \"tx-success\" : ad.status === \"Pending\" ? \"tx-warning\" : \"tx-danger\"} onClick={() => redirect(`/ads/${ad.id}`)}>{ad.status}</td>\r\n                      <td onClick={() => redirect(`/ads/${ad.id}`)}>{ad.impressions}</td>\r\n                      <td onClick={() => redirect(`/ads/${ad.id}`)}>{ad.clicks}</td>\r\n                      <td className={ad.status === \"Active\" ? \"tx-success\" : ad.status === \"Pending\" ? \"tx-warning\" : \"tx-danger\"} onClick={() => redirect(`/ads/${ad.id}`)}>{ad.status === \"Active\" ? `Expires on ${ad.end}` : ad.status === \"Pending\" ? `Starts on ${ad.start}` : `Expired on ${ad.end}`}</td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n      }\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nAdsTable.defaultProps = {\r\n  slotColumn: true\r\n};\r\n\r\nAdsTable.propTypes = {\r\n  slotColumn: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default AdsTable;","import React, { useState, useEffect, useContext } from 'react';\r\nimport Page from '../layouts/Page';\r\nimport Header from '../layouts/Header';\r\nimport Footer from '../layouts/Footer';\r\n\r\nimport { ApiRequest, handleErrors, handleSuccess } from '../utility/Api';\r\n\r\nimport { GlobalContext } from '../GlobalContext';\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\n\r\nimport ApiErrors from '../components/ApiErrors';\r\nimport AdsTable from '../components/AdsTable';\r\nimport Forms from '../components/Forms';\r\n\r\nconst Ads = () => {\r\n\r\n  const { token, logout, redirect, setToken, location } = useContext(GlobalContext);\r\n\r\n  const [ads, setAds] = useState([]);\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    // Fetch Ads\r\n    (async () => {\r\n\r\n      setLoading(true);\r\n\r\n      ApiRequest.get({\r\n        endpoint: 'ads',\r\n        token: token,\r\n        success: (response) => {\r\n          let res = handleSuccess(response);\r\n          setLoading(false);\r\n          setAds(res.data)\r\n        },\r\n        failure: (response) => {\r\n          let res = handleErrors(response);\r\n          setErrors(res)\r\n          setLoading(false);\r\n        }\r\n      });\r\n\r\n    })();\r\n   \r\n  }, [])\r\n  \r\n  return (\r\n    <Page>\r\n    <Header title=\"Ads\" active=\"ads\" />\r\n\r\n    <div className=\"card-header bd-b-0 pd-t-20 pd-lg-t-25 pd-l-20 pd-lg-l-25 d-flex flex-column flex-sm-row align-items-sm-center justify-content-sm-center\">\r\n        <div className=\"btn-group mg-t-20 mg-sm-t-0\">\r\n          <button href=\"#addAd\" className=\"btn btn-xs btn-success btn-uppercase\" data-toggle=\"modal\">Add New Advert</button>\r\n        </div>\r\n      </div>\r\n\r\n      {location.flash && (<div className=\"alert alert-success mt-4\" role=\"alert\"> {location.flash} </div>)}\r\n\r\n      <ApiErrors errors={errors} />\r\n\r\n      <AdsTable ads={ads} loading={loading} />\r\n\r\n      <Forms/>\r\n\r\n      <Footer/>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Ads;"],"names":[],"sourceRoot":""}