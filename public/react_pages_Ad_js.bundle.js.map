{"version":3,"file":"react_pages_Ad_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAcA;AAGA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAIA;;AAEA;;;;;;;;;;ACxIA","sources":["webpack://ad-manager/./react/pages/Ad.js","webpack://ad-manager/ignored|C:\\Projects\\MyProjects\\1.PHP\\ad-manager\\node_modules\\htmlparser2\\lib|readable-stream"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport Page from '../layouts/Page';\r\nimport Header from '../layouts/Header';\r\nimport Footer from '../layouts/Footer';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ApiRequest, handleErrors, handleSuccess } from '../utility/Api';\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\n\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\n\r\nimport { GlobalContext } from '../GlobalContext';\r\nimport Modal from '../components/Modal';\r\n\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as yup from 'yup';\r\nimport TextError from '../components/TextError';\r\nimport { DisplayFormikState } from '../utility/Helpers';\r\nimport Forms from '../components/Forms';\r\n\r\nconst Ad = ({ match }) => {\r\n\r\n  const { token, logout, redirect, setToken } = useContext(GlobalContext);\r\n\r\n  const [ad, setAd] = useState(null);\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    // Fetch Ad\r\n    (async () => {\r\n\r\n      setLoading(true);\r\n\r\n      ApiRequest.get({\r\n        endpoint: `ads/${match.params.id}`,\r\n        token: token,\r\n        success: (response) => {\r\n          let res = handleSuccess(response);\r\n          setLoading(false);\r\n          setAd(res.data)\r\n        },\r\n        failure: (response) => {\r\n          setErrors(handleErrors(response))\r\n          setLoading(false);\r\n        }\r\n      });\r\n\r\n    })();\r\n\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <Page>\r\n      <Header title={loading ? <PulseLoader color=\"#9d1e29\" loading={loading} size={20} /> : (ad && ad.title)} active=\"ads\" />\r\n\r\n      <div className=\"card-header bd-b-0 pd-t-20 pd-lg-t-25 pd-l-20 pd-lg-l-25 d-flex flex-column flex-sm-row align-items-sm-center justify-content-sm-center\">\r\n        <div className=\"btn-group mg-t-20 mg-sm-t-0\">\r\n          <button href=\"#addAd\" className=\"btn btn-xs btn-success btn-uppercase\" data-toggle=\"modal\">Add New Ad</button>\r\n          <button href=\"#updateAd\" className=\"btn btn-xs btn-warning btn-uppercase\" data-toggle=\"modal\">Update Ad</button>\r\n          <button href=\"#deleteAd\" className=\"btn btn-xs btn-danger btn-uppercase\" data-toggle=\"modal\">Delete Ad</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row row-xs\">\r\n\r\n        <div className=\"col-12\">\r\n          <div className=\"card card-body\">\r\n            <div className=\"d-md-flex align-items-center justify-content-between\">\r\n              <div className=\"media align-sm-items-center\">\r\n                <div className=\"media-body mg-l-15\">\r\n                  <div className=\"d-flex align-items-baseline\">\r\n                    <h2 className=\"tx-20 tx-lg-28 tx-normal tx-rubik tx-spacing--2 lh-2 mg-b-0\">{loading ? <PulseLoader color=\"#9d1e29\" loading={loading} size={10} /> : (ad && ad.status)}</h2>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex flex-column flex-sm-row mg-t-20 mg-md-t-0\">\r\n                <h6 className=\"tx-12 tx-lg-14 tx-semibold tx-uppercase tx-spacing-1 mg-b-5\">{loading ? <PulseLoader color=\"#9d1e29\" loading={loading} size={10} /> : ad && (ad.status === \"Active\" ? `Expires on ${ad.end}` : ad.status === \"Pending\" ? `Starts on ${ad.start}` : `Expired on ${ad.end}`)}</h6>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n \r\n\r\n\r\n        <div className=\"col-lg-9 mg-t-10\">\r\n          <div className=\"card card-crypto\">\r\n            <div className=\"card-body pd-10 pd-sm-20\">\r\n              {ad && <img src={`data:${ad.type};base64, ${ad.image}`} style={{maxWidth:'100%'}} />}\r\n            </div>\r\n\r\n            {ad && ad.link &&\r\n            <div className=\"card-footer pd-20\">\r\n              Link: <a href={ad.link}>{ad.link}</a>\r\n            </div>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-lg-3 mg-t-10\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <h6 className=\"mg-b-0\">Statistics</h6>\r\n            </div>\r\n            <div className=\"card-body pd-10\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table table-borderless tx-13 mg-b-0\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td><strong>Impressions</strong></td>\r\n                      <td className=\"text-right tx-rubik\">{loading ? <PulseLoader color=\"#9d1e29\" loading={loading} size={10} /> : (ad && ad.impressions)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td><strong>Clicks</strong></td>\r\n                      <td className=\"text-right tx-rubik\">{loading ? <PulseLoader color=\"#9d1e29\" loading={loading} size={10} /> : (ad && ad.clicks)}</td>\r\n                    </tr>\r\n                   \r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      \r\n      </div>\r\n\r\n      <Forms ad={ad}/>\r\n      <Footer />\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Ad;","/* (ignored) */"],"names":[],"sourceRoot":""}